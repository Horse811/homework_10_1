# Project Bank

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞–±–æ—Ä —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ –º–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –Ω–æ–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç –∏ —Å—á–µ—Ç–æ–≤, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö.

## –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π:

-   `get_mask_card_number`: –ú–∞—Å–∫–∏—Ä—É–µ—Ç –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã, —Å–∫—Ä—ã–≤–∞—è —á–∞—Å—Ç—å —Ü–∏—Ñ—Ä –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ.
-   `get_mask_account`: –ú–∞—Å–∫–∏—Ä—É–µ—Ç –Ω–æ–º–µ—Ä —Å—á–µ—Ç–∞, –ø–æ–∫–∞–∑—ã–≤–∞—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 4 —Ü–∏—Ñ—Ä—ã.
-   `mask_account_card`: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞—Ä—Ç–µ –∏–ª–∏ —Å—á–µ—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞, –º–∞—Å–∫–∏—Ä—É—è –Ω–æ–º–µ—Ä.
-   `get_date`: –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—É—é –¥–∞—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç '–î–î.–ú–ú.–ì–ì–ì–ì'.
-   `filter_by_state`: –§–∏–ª—å—Ç—Ä—É–µ—Ç —Å–ø–∏—Å–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–Ω–∞—á–µ–Ω–∏—è –∫–ª—é—á–∞ `state`.
-   `sort_by_date`: –°–æ—Ä—Ç–∏—Ä—É–µ—Ç —Å–ø–∏—Å–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ –¥–∞—Ç–µ, –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–Ω–∞—á–µ–Ω–∏—è –∫–ª—é—á–∞ 'date'.
-   `filter_by_currency`: –§–∏–ª—å—Ç—Ä—É–µ—Ç —Å–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ –æ–¥–Ω–æ–π —Ç–µ, —á—Ç–æ —Å–æ–≤–µ—Ä—à–µ–Ω—ã –≤ –∑–∞–¥–∞–Ω–Ω–æ–π –≤–∞–ª—é—Ç–µ.
-   `transaction_descriptions`: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏ –ø–æ–æ—á–µ—Ä–µ–¥–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–π –∏–∑ –Ω–∏—Ö.
-   `card_number_generator`: –§—É–Ω–∫—Ü–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–æ–º–µ—Ä–æ–≤ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –∫–∞—Ä—Ç: —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–º–µ—Ä–∞ –≤ –∑–∞–¥–∞–Ω–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ö –≤ —Ñ–æ—Ä–º–∞—Ç–µ XXXX XXXX XXXX XXXX.
–¢–æ—á–∫–æ–π –≤—Ö–æ–¥–∞ —è–≤–ª—è–µ—Ç—Å—è —Ñ–∞–π–ª `main.py`. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.


## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**

    ```
    git@github.com:Horse811/homework_10_1.git
    ```

2.  **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞:**

    ```
    cd Home_work
    ```

3.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**

    ```
    pip install -r requirements.txt
    ```
# Banking Data Processing Toolkit



## –ú–æ–¥—É–ª–∏

### 1. masks.py
–§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:

```python
from src.masks import get_mask_card_number, get_mask_account

# –ú–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç—ã (16 —Ü–∏—Ñ—Ä)
print(get_mask_card_number("1234567890123456"))  # "1234 56** **** 3456"

# –ú–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–∞ —Å—á–µ—Ç–∞ (–º–∏–Ω–∏–º—É–º 4 —Ü–∏—Ñ—Ä—ã)
print(get_mask_account("12345678"))  # "**5678"
```

### 2. processing.py
–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ø–∏—Å–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π:

```python
from src.processing import filter_by_state, sort_by_date

operations = [
    {"id": 1, "state": "EXECUTED", "date": "2023-12-31T23:59:59.999"},
    {"id": 2, "state": "PENDING", "date": "2022-01-01T00:00:00.000"}
]

# –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É
filtered = filter_by_state(operations, "EXECUTED")

# –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - –Ω–æ–≤–µ–π—à–∏–µ —Å–Ω–∞—á–∞–ª–∞)
sorted_ops = sort_by_date(operations)
```

### 3. widget.py
–£—Ç–∏–ª–∏—Ç—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:

```python
from src.widget import mask_account_card, get_date

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ (–∫–∞—Ä—Ç–∞ –∏–ª–∏ —Å—á–µ—Ç)
print(mask_account_card("1234567890123456"))  # "1234 56** **** 3456"
print(mask_account_card("12345678"))          # "**5678"

# –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã
print(get_date("2023-12-31T23:59:59.999"))  # "31.12.2023"
```
### 4. generators.py
# –ü—Ä–∏–º–µ—Ä 1: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 3 –Ω–æ–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç

start = 1

stop = 3

generator = card_number_generator(start, stop)

for card in generator:

    print(card) 
        
# Output:
0000 0000 0000 0001

0000 0000 0000 0002

0000 0000 0000 0003

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤
```
tests/
‚îú‚îÄ‚îÄ test_masks.py       # –¢–µ—Å—Ç—ã –º–∞—Å–æ–∫ –∫–∞—Ä—Ç/—Å—á–µ—Ç–æ–≤ (5 —Ç–µ—Å—Ç–æ–≤)
‚îú‚îÄ‚îÄ test_processing.py  # –¢–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π (5 —Ç–µ—Å—Ç–æ–≤)
‚îú‚îÄ‚îÄ test_widget.py      # –¢–µ—Å—Ç—ã –≤–∏–¥–∂–µ—Ç–æ–≤ (5 —Ç–µ—Å—Ç–æ–≤)
‚îî‚îÄ‚îÄ test_generators.py  # –¢–µ—Å—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤ 
```

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
1. **–§–∏–∫—Å—Ç—É—Ä—ã** —á–µ—Ä–µ–∑ `setUp()`
   ```python
   def setUp(self):
       self.test_data = [...]  # –û–±—â–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –∫–ª–∞—Å—Å–∞
   ```

2. **–ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è** —Ç–µ—Å—Ç–æ–≤:
   ```python
   @parameterized.expand([
       ("–û–ø–∏—Å–∞–Ω–∏–µ —Å–ª—É—á–∞—è", input, expected),
       ...
   ])
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π**:
   ```python
   with self.assertRaises(ValueError) as context:
       function(input)
   self.assertIn("–æ–∂–∏–¥–∞–µ–º–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ", str(context.exception))
   ```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã —Å –æ—Ç—á–µ—Ç–æ–º –æ –ø–æ–∫—Ä—ã—Ç–∏–∏
pytest --cov=src --cov-report=term-missing

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML-–æ—Ç—á–µ—Ç–∞
pytest --cov=src --cov-report=html && open htmlcov/index.html

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π –∫–ª–∞—Å—Å
python -m unittest tests/test_processing.py
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
```bash
pip install pytest pytest-cov parameterized
```
## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

1. –ú–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:
```python
from src.widget import mask_account_card

card_number = "1234567890123456"
account_number = "12345678"

print(f"Card: {mask_account_card(card_number)}")
print(f"Account: {mask_account_card(account_number)}")
```

2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π:
```python
from src.processing import filter_by_state, sort_by_date
from src.widget import get_date

operations = [...]  # —Å–ø–∏—Å–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–π

# –ü–æ–ª—É—á–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ –¥–∞—Ç–µ
processed = sort_by_date(
    filter_by_state(operations, "EXECUTED")
)

for op in processed:
    print(f"{get_date(op['date'])} - {op['amount']} {op['currency']}")
```

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ä–æ–≤–Ω–æ 16 —Ü–∏—Ñ—Ä
- –ù–æ–º–µ—Ä —Å—á–µ—Ç–∞ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 4 —Ü–∏—Ñ—Ä—ã
- –î–∞—Ç–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601 (YYYY-MM-DDThh:mm:ss.sss)

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
